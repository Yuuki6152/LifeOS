{"ast":null,"code":"import{useEffect,useState}from'react';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export default function ProductList(){const[Products,setProducts]=useState([]);const[error,setError]=useState(null);useEffect(()=>{const API_BASE_URL=window.location.origin;const url=\"\".concat(API_BASE_URL,\"/api/products\");fetch(url).then(response=>{if(!response.ok){throw new Error('Network response was not ok');}return response.json();}).then(data=>setProducts(data)).catch(error=>{console.error('There was a problem with the fetch operation:',error);setError('商品の取得に失敗に失敗しました。');});},[]);const handleClick=product=>{alert(\"\\u5546\\u54C1\\u540D: \".concat(product.name,\"\\n\\u4FA1\\u683C: \").concat(product.price,\"\\u5186\"));if(error){return/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u30A8\\u30E9\\u30FC\\uFF1A\",error]});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"ProductList\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u5546\\u54C1\\u30EA\\u30B9\\u30C8\"}),Products.map(product=>/*#__PURE__*/_jsx(\"li\",{onClick:()=>handleClick(product),children:product.name}))]});}","map":{"version":3,"names":["useEffect","useState","jsxs","_jsxs","jsx","_jsx","ProductList","Products","setProducts","error","setError","API_BASE_URL","window","location","origin","url","concat","fetch","then","response","ok","Error","json","data","catch","console","handleClick","product","alert","name","price","children","className","map","onClick"],"sources":["C:/Product/LifeOS/my-react-app/src/ProductList.tsx"],"sourcesContent":["import { useEffect ,useState} from 'react';\r\n\r\ninterface Product {\r\n    id: number;\r\n    name: string;\r\n    price: number;\r\n}\r\n\r\nexport default function ProductList() {\r\n    const [Products, setProducts] = useState<Product[]>([]);\r\n    const [error, setError] = useState<string | null>(null);    \r\n\r\n    useEffect(() => {\r\n\r\n        const API_BASE_URL = window.location.origin;\r\n\r\n        const url = `${API_BASE_URL}/api/products`;\r\n\r\n        fetch(url)\r\n            .then(response => {\r\n                if (!response.ok) {\r\n                    throw new Error('Network response was not ok');\r\n                }\r\n                return response.json();\r\n            })\r\n            .then((data: Product[]) => setProducts(data))\r\n            .catch(error => {\r\n                console.error('There was a problem with the fetch operation:', error);\r\n                setError('商品の取得に失敗に失敗しました。');\r\n            });\r\n    }, []);\r\n\r\n    const handleClick = (product: Product) => {\r\n        alert(`商品名: ${product.name}\\n価格: ${product.price}円`);\r\n\r\n        if (error) {\r\n            return <div>エラー：{error}</div>\r\n        }\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"ProductList\">\r\n            <p>商品リスト</p>\r\n            {Products.map(product => (\r\n                <li onClick={() => handleClick(product) }>\r\n                    { product.name}\r\n                </li>\r\n            ))}\r\n\r\n\r\n        </div>\r\n    )\r\n}"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAQ3C,cAAe,SAAS,CAAAC,WAAWA,CAAA,CAAG,CAClC,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGP,QAAQ,CAAY,EAAE,CAAC,CACvD,KAAM,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAgB,IAAI,CAAC,CAEvDD,SAAS,CAAC,IAAM,CAEZ,KAAM,CAAAW,YAAY,CAAGC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAE3C,KAAM,CAAAC,GAAG,IAAAC,MAAA,CAAML,YAAY,iBAAe,CAE1CM,KAAK,CAACF,GAAG,CAAC,CACLG,IAAI,CAACC,QAAQ,EAAI,CACd,GAAI,CAACA,QAAQ,CAACC,EAAE,CAAE,CACd,KAAM,IAAI,CAAAC,KAAK,CAAC,6BAA6B,CAAC,CAClD,CACA,MAAO,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAC1B,CAAC,CAAC,CACDJ,IAAI,CAAEK,IAAe,EAAKf,WAAW,CAACe,IAAI,CAAC,CAAC,CAC5CC,KAAK,CAACf,KAAK,EAAI,CACZgB,OAAO,CAAChB,KAAK,CAAC,+CAA+C,CAAEA,KAAK,CAAC,CACrEC,QAAQ,CAAC,kBAAkB,CAAC,CAChC,CAAC,CAAC,CACV,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAgB,WAAW,CAAIC,OAAgB,EAAK,CACtCC,KAAK,wBAAAZ,MAAA,CAASW,OAAO,CAACE,IAAI,qBAAAb,MAAA,CAASW,OAAO,CAACG,KAAK,UAAG,CAAC,CAEpD,GAAIrB,KAAK,CAAE,CACP,mBAAON,KAAA,QAAA4B,QAAA,EAAK,0BAAI,CAACtB,KAAK,EAAM,CAAC,CACjC,CAEJ,CAAC,CAGD,mBACIN,KAAA,QAAK6B,SAAS,CAAC,aAAa,CAAAD,QAAA,eACxB1B,IAAA,MAAA0B,QAAA,CAAG,gCAAK,CAAG,CAAC,CACXxB,QAAQ,CAAC0B,GAAG,CAACN,OAAO,eACjBtB,IAAA,OAAI6B,OAAO,CAAEA,CAAA,GAAMR,WAAW,CAACC,OAAO,CAAG,CAAAI,QAAA,CACnCJ,OAAO,CAACE,IAAI,CACd,CACP,CAAC,EAGD,CAAC,CAEd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}